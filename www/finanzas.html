<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>FNA en tu bolsillo</title>

	<link rel="stylesheet" href="js/lib/jquery.mobile-1.3.2.min.css" />
	<link rel="stylesheet" href="js/lib/jquery.mobile.structure-1.3.2.min.css" />
	<link rel="stylesheet" href="js/lib/jquery.mobile.theme-1.3.2.min.css" />
	<link rel="stylesheet" href="css/styles.css">
	<link rel="stylesheet" href="css/font.css">


	<!--<script type="text/javascript" src="cordova.js"></script>-->
	<script type="text/javascript" src="js/lib/jquery.js"></script>
	<script type="text/javascript" src="js/lib/jquery.mobile-1.3.2.min.js"></script>
	<script type="text/javascript" src="js/lib/SQLitePlugin.js"></script>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true"></script>
	
  <script type="text/javascript" src="js/misfinanzas.js"></script>


	<script type="text/javascript" charset="utf-8">
    $('inicio_finanzas').ready(function() {
        var d=new Date();
        var dat=d.getDate();
        var mon=d.getMonth();
        var year=d.getFullYear();
        
        var todayDateD = year+"-"+setDateZero(mon)+"-"+setDateZero(dat);
        $('#f_desde').val(todayDateD);

        var monH=d.getMonth()+1;
        var todayDateH = year +"-"+ setDateZero(monH) +"-"+ setDateZero(dat);
        $('#f_hasta').val(todayDateH);
        
        $( "#ingresos-tabla" ).table( "refresh" );
        configurar_db()
        RealizarLaConsulta();
	});

	function historia(tx) {
		window.location.href = "finanzas.html#historicos";
		ConsultarHistoriaIngre();
		ConsultarHistoriaEgr();
    }
	
	function RealizarLaConsulta(tx) {
       RealizarConsultaIngre();
       RealizarConsultaEgre();
       RealizarSumaIngresos();
    }
	
	function volver_inicio() {
       window.location.href = "index.html";
    }
	
	
    </script>

    <style type="text/css">
        .logo img{
            width: 100%;
        }

        .logo{
            text-align: center;
        }

        .ui-header .ui-btn-inner, .ui-footer .ui-btn-inner, .ui-mini .ui-btn-inner{
            font-size: :8px !important;          
        }
    </style>
</head>
<body>




<div data-role="page" id="inicio_finanzas">
	<div data-role="header">
			<a href="javascript:volver_inicio()" class="ui-btn-left" data-theme="b" data-transition="slide">Inicio</a>
			<h1>Mis finanzas</h1>
			<a href="#compartir" class="ui-btn-right" data-transition="slidedown" data-rel="dialog" data-theme="b">Compartir</a>
		</div>
    <div data-role="content">
      <!--<form id="form_inicio_finanzas">-->
        <div id="width:70%;" >
               <label for="desde">Desde:</label>
               <input type="date" name="desde" id="f_desde" onchange="RealizarLaConsulta()"/>
               <label for="hasta">Hasta:</label>
               <input type="date" name="hasta" id="f_hasta" onchange="RealizarLaConsulta()"/>
        </div>
        <div data-role="fieldcontain">
            <a href="javascript:historia()">Ver historia</a><br>
        </div>
        <div data-role="fieldcontain">
            <label for="sActual">Ahorro en el periodo:</label><br>
            <input type="number" name="sActual" id="sActual"/>
        </div>
        <div data-role="fieldcontain">
            <div data-role="header">
                <h5 style="font-size:10px !important;">Ingresos totales: </h5>
				<button type="button" data-icon="gear" class="ui-btn-right" onclick="javascript:formu_ing()" >+</button>
            </div>
            <table data-role="table" id="ingresos-tabla" data-mode="reflow" class="ui-responsive table-stroke">
              <thead>
                <tr>
                  <th>Tipo</th>
                  <th>Monto</th>
                  <th>Fecha</th>
                </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
        </div>
        <div data-role="fieldcontain">
            <div data-role="header">
                <h5 style="font-size:10px !important;">Gastos totales: </h5>
				<button type="button" data-icon="gear" class="ui-btn-right" onclick="javascript:formu_Egre()" >+</button>
            </div>
            <table data-role="table" id="egresos-tabla" data-mode="reflow" class="ui-responsive table-stroke">
              <thead>
                <tr>
                  <th>Tipo</th>
                  <th>Monto</th>
                  <th>Fecha</th>
                </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
        </div>
      <!--</form>-->
    </div>
	<div data-role="footer">
			<div>
				<a href="javascript:ir_ppal('map-page')" id="flink-puntos" data-transition="slide">
					<span></span>
				</a>
				<a href="javascript:ir_ppal('portafolio')" id="flink-portafolio" data-transition="slide">
					<span></span>
				</a>
				<a href="javascript:solicitar_asesoria('finan')" id="flink-asesoria" data-transition="slide">
					<span></span>
				</a>
				<a href="#inicio_finanzas" id="flink-finanzas" data-transition="slide">
					<span></span>
				</a>
			</div>
		</div>
</div>







<div data-role="page" id="agregar_gasto">
	<div data-role="header">
		<a href="#" data-icon="back" data-rel="back" class="ui-btn-left" data-theme="b" data-transition="slide">Atrás</a>
		<h1>Nuevo gasto</h1>
	</div>
	<div data-role="content">
		    <div data-role="fieldcontain">
            <label for="montoEgr">Valor:</label>
            <input type="number" name="montoEgr" id="montoEgr" />
        </div>
        <div data-role="fieldcontain">
            <label for="tipoEgr">Tipo:</label>
            <select id="tipoEgr" name="tipoEgr">
              <option value="Hogar">Hogar</option>
              <option value="Transporte">Transporte</option>
              <option value="Alimentación">Alimentación</option>
              <option value="Ropa">Ropa</option>
              <option value="Entretenimiento">Entretenimiento</option>
              <option value="fna">FNA / Crédito</option>
            </select> 
        </div>
        <div data-role="fieldcontain">
            <label for="notaEgr">Nota:</label>
            <input type="text" name="notaEgr" id="notaEgr" />
        </div>
		<button onclick="listoAgregarEgreso()">Guardar</button>
		
	</div>
</div>







<div data-role="page" id="agregar_ingreso">
  <div data-role="header">
	<a href="#" data-icon="back" data-rel="back" class="ui-btn-left" data-theme="b" data-transition="slide">Atrás</a>
    <h1>Nuevo Ingreso</h1>
  </div>
  <div data-role="content">
        <div data-role="fieldcontain">
            <label for="montoIng">Valor:</label>
            <input type="number" name="montoIng" id="montoIng" />
        </div>
        <div data-role="fieldcontain">
            <label for="tipoIng">Tipo:</label>
            <select id="tipoIng" name="tipoIng">
              <option value="Salario">Salario</option>
              <option value="Renta">Renta</option>
              <option value="Otros">Otros</option>
            </select> 
        </div>
        <div data-role="fieldcontain">
            <label for="notaIng">Nota:</label>
            <input type="text" name="notaIng" id="notaIng" />
        </div>
		 <button onclick="GuardarNuevoIngreso()">Guardar</button>
  </div>
 </div>






<div data-role="page" id="historicos">
    <div data-role="header">
			<a href="#" data-icon="back" data-rel="back" class="ui-btn-left" data-theme="b" data-transition="slide">Atrás</a>
			<h1>Histórico</h1>
	  </div>
	  <div data-role="content">
      <form id="form_historico">
        <div data-role="fieldcontain">
           <div data-role="header">
                <h5 style="font-size:10px !important;">Ingresos totales</h5>
           </div>
           <table data-role="table" id="ingresos_historico" data-mode="reflow" class="ui-responsive table-stroke">
              <thead>
                <tr>
                  <th>Monto</th>
                  <th>Fecha</th>
				  <th>Tipo</th>
				  <th>Nota</th>
                </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
        </div>
        <div data-role="fieldcontain">
             <div data-role="header">
                <h5 style="font-size:10px !important;">Gastos totales</h5>
            </div> 
            <table data-role="table" id="egresos_historico" data-mode="reflow" class="ui-responsive table-stroke">
              <thead>
                <tr>
                  <th>Monto</th>
                  <th>Fecha</th>
				  <th>Tipo</th>
				  <th>Nota</th>
                </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
        </div>
      </form>
    </div>    
	  <div data-role="footer">
  		<div>
  			<a href="#map-page" id="flink-puntos" data-transition="slide">
  				<span></span>
  			</a>
  			<a href="#portafolio" id="flink-portafolio" data-transition="slide">
  				<span></span>
  			</a>
  			<a href="javascript:solicitar_asesoria('finan')" id="flink-asesoria" data-transition="slide">
  				<span></span>
  			</a>
  			<a href="#inicio_finanzas" id="flink-finanzas" data-transition="slide">
  				<span></span>
  			</a>
  		</div>
  	 </div>
</div>
	



</body>
</html>